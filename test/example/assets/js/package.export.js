//tableExport
!function(a){a.fn.extend({tableExport:function(b){function s(a){return"true"==c.htmlContent?content_data=a.html().trim():content_data=a.text().trim(),"true"==c.escape&&(content_data=escape(content_data)),content_data}var c={separator:",",ignoreColumn:[],tableName:"yourTableName",type:"csv",pdfFontSize:14,pdfLeftMargin:20,escape:"true",htmlContent:"false",consoleLog:"false"},b=a.extend(c,b),d=this;if("csv"==c.type||"txt"==c.type){var e="";a(d).find("thead").find("tr").each(function(){e+="\n",a(this).filter(":visible").find("th").each(function(b,d){"none"!=a(this).css("display")&&c.ignoreColumn.indexOf(b)==-1&&(e+='"'+s(a(this))+'"'+c.separator)}),e=a.trim(e),e=a.trim(e).substring(0,e.length-1)}),a(d).find("tbody").find("tr").each(function(){e+="\n",a(this).filter(":visible").find("td").each(function(b,d){"none"!=a(this).css("display")&&c.ignoreColumn.indexOf(b)==-1&&(e+='"'+s(a(this))+'"'+c.separator)}),e=a.trim(e).substring(0,e.length-1)}),"true"==c.consoleLog&&console.log(e);var f="base64,"+a.base64.encode(e);window.open("data:application/"+c.type+";filename=exportData."+c.type+";"+f)}else if("sql"==c.type){var e="INSERT INTO `"+c.tableName+"` (";a(d).find("thead").find("tr").each(function(){a(this).filter(":visible").find("th").each(function(b,d){"none"!=a(this).css("display")&&c.ignoreColumn.indexOf(b)==-1&&(e+="`"+s(a(this))+"`,")}),e=a.trim(e),e=a.trim(e).substring(0,e.length-1)}),e+=") VALUES ",a(d).find("tbody").find("tr").each(function(){e+="(",a(this).filter(":visible").find("td").each(function(b,d){"none"!=a(this).css("display")&&c.ignoreColumn.indexOf(b)==-1&&(e+='"'+s(a(this))+'",')}),e=a.trim(e).substring(0,e.length-1),e+="),"}),e=a.trim(e).substring(0,e.length-1),e+=";","true"==c.consoleLog&&console.log(e);var f="base64,"+a.base64.encode(e);window.open("data:application/sql;filename=exportData.sql;"+f)}else if("json"==c.type){var g=[];a(d).find("thead").find("tr").each(function(){var d=[];a(this).filter(":visible").find("th").each(function(b,e){"none"!=a(this).css("display")&&c.ignoreColumn.indexOf(b)==-1&&d.push(s(a(this)))}),g.push(d)});var h=[];a(d).find("tbody").find("tr").each(function(){var d=[];a(this).filter(":visible").find("td").each(function(b,e){"none"!=a(this).css("display")&&c.ignoreColumn.indexOf(b)==-1&&d.push(s(a(this)))}),h.push(d)});var i=[];i.push({header:g,data:h}),"true"==c.consoleLog&&console.log(JSON.stringify(i));var f="base64,"+a.base64.encode(JSON.stringify(i));window.open("data:application/json;filename=exportData.json;"+f)}else if("xml"==c.type){var j='<?xml version="1.0" encoding="utf-8"?>';j+="<tabledata><fields>",a(d).find("thead").find("tr").each(function(){a(this).filter(":visible").find("th").each(function(b,d){"none"!=a(this).css("display")&&c.ignoreColumn.indexOf(b)==-1&&(j+="<field>"+s(a(this))+"</field>")})}),j+="</fields><data>";var k=1;a(d).find("tbody").find("tr").each(function(){j+='<row id="'+k+'">';var b=0;a(this).filter(":visible").find("td").each(function(d,e){"none"!=a(this).css("display")&&c.ignoreColumn.indexOf(d)==-1&&(j+="<column-"+b+">"+s(a(this))+"</column-"+b+">"),b++}),k++,j+="</row>"}),j+="</data></tabledata>","true"==c.consoleLog&&console.log(j);var f="base64,"+a.base64.encode(j);window.open("data:application/xml;filename=exportData.xml;"+f)}else if("excel"==c.type||"doc"==c.type||"powerpoint"==c.type){var l="<table>";a(d).find("thead").find("tr").each(function(){l+="<tr>",a(this).filter(":visible").find("th").each(function(b,d){"none"!=a(this).css("display")&&c.ignoreColumn.indexOf(b)==-1&&(l+="<td>"+s(a(this))+"</td>")}),l+="</tr>"});var k=1;a(d).find("tbody").find("tr").each(function(){l+="<tr>";var b=0;a(this).filter(":visible").find("td").each(function(d,e){"none"!=a(this).css("display")&&c.ignoreColumn.indexOf(d)==-1&&(l+="<td>"+s(a(this))+"</td>"),b++}),k++,l+="</tr>"}),l+="</table>","true"==c.consoleLog&&console.log(l);var m="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:"+c.type+"' xmlns='http://www.w3.org/TR/REC-html40'>";m+="<head>",m+="<!--[if gte mso 9]>",m+="<xml>",m+="<x:ExcelWorkbook>",m+="<x:ExcelWorksheets>",m+="<x:ExcelWorksheet>",m+="<x:Name>",m+="{worksheet}",m+="</x:Name>",m+="<x:WorksheetOptions>",m+="<x:DisplayGridlines/>",m+="</x:WorksheetOptions>",m+="</x:ExcelWorksheet>",m+="</x:ExcelWorksheets>",m+="</x:ExcelWorkbook>",m+="</xml>",m+="<![endif]-->",m+="</head>",m+="<body>",m+=l,m+="</body>",m+="</html>";var f="base64,"+a.base64.encode(m);window.open("data:application/vnd.ms-"+c.type+";filename=exportData."+c.type+";"+f)}else if("png"==c.type)html2canvas(a(d),{onrendered:function(a){var b=a.toDataURL("image/png");window.open(b)}});else if("pdf"==c.type){var n=new jsPDF("p","pt","a4",!0);n.setFontSize(c.pdfFontSize);var o=c.pdfLeftMargin;a(d).find("thead").find("tr").each(function(){a(this).filter(":visible").find("th").each(function(b,d){if("none"!=a(this).css("display")&&c.ignoreColumn.indexOf(b)==-1){var e=o+50*b;n.text(e,20,s(a(this)))}})});var p=20,q=1,r=0;a(d).find("tbody").find("tr").each(function(b,d){rowCalc=b+1,rowCalc%26==0&&(n.addPage(),q++,p+=10),r=p+10*rowCalc-280*(q-1),a(this).filter(":visible").find("td").each(function(b,d){if("none"!=a(this).css("display")&&c.ignoreColumn.indexOf(b)==-1){var e=o+50*b;n.text(e,r,s(a(this)))}})}),n.output("datauri")}}})}(jQuery);
//jquery.base64
jQuery.base64=function(a){function e(a,b){var d=c.indexOf(a.charAt(b));if(d===-1)throw"Cannot decode base64";return d}function f(a){var d,f,c=0,g=a.length,h=[];if(a=String(a),0===g)return a;if(g%4!==0)throw"Cannot decode base64";for(a.charAt(g-1)===b&&(c=1,a.charAt(g-2)===b&&(c=2),g-=4),d=0;d<g;d+=4)f=e(a,d)<<18|e(a,d+1)<<12|e(a,d+2)<<6|e(a,d+3),h.push(String.fromCharCode(f>>16,f>>8&255,255&f));switch(c){case 1:f=e(a,d)<<18|e(a,d+1)<<12|e(a,d+2)<<6,h.push(String.fromCharCode(f>>16,f>>8&255));break;case 2:f=e(a,d)<<18|e(a,d+1)<<12,h.push(String.fromCharCode(f>>16))}return h.join("")}function g(a,b){var c=a.charCodeAt(b);if(c>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return c}function h(a){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";a=String(a);var d,e,f=[],h=a.length-a.length%3;if(0===a.length)return a;for(d=0;d<h;d+=3)e=g(a,d)<<16|g(a,d+1)<<8|g(a,d+2),f.push(c.charAt(e>>18)),f.push(c.charAt(e>>12&63)),f.push(c.charAt(e>>6&63)),f.push(c.charAt(63&e));switch(a.length-h){case 1:e=g(a,d)<<16,f.push(c.charAt(e>>18)+c.charAt(e>>12&63)+b+b);break;case 2:e=g(a,d)<<16|g(a,d+1)<<8,f.push(c.charAt(e>>18)+c.charAt(e>>12&63)+c.charAt(e>>6&63)+b)}return f.join("")}var b="=",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="1.0";return{decode:f,encode:h,VERSION:d}}(jQuery);
//html2canvas
!function(a,b,c){function h(a,b,c){var e,d=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(c)&&/^-?\d/.test(c)&&(e=f.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c||0,c=f.pixelLeft+"px",f.left=e,d&&(a.runtimeStyle.left=d)),/^(thin|medium|thick)$/i.test(c)?c:Math.round(parseFloat(c))+"px"}function i(a){return parseInt(a,10)}function j(a){return a.toString().indexOf("%")!==-1}function k(a,b,e,f){if(a=(a||"").split(","),a=a[f||0]||a[0]||"auto",a=d.Util.trimText(a).split(" "),"backgroundSize"===e&&a[0]&&a[0].match(/^(cover|contain|auto)$/))return a;if(a[0]=a[0].indexOf("%")===-1?h(b,e+"X",a[0]):a[0],a[1]===c){if("backgroundSize"===e)return a[1]="auto",a;a[1]=a[0]}return a[1]=a[1].indexOf("%")===-1?h(b,e+"Y",a[1]):a[1],a}function l(a,b){var c=[];return{storage:c,width:a,height:b,clip:function(){c.push({type:"function",name:"clip",arguments:arguments})},translate:function(){c.push({type:"function",name:"translate",arguments:arguments})},fill:function(){c.push({type:"function",name:"fill",arguments:arguments})},save:function(){c.push({type:"function",name:"save",arguments:arguments})},restore:function(){c.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){c.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){c.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var a=[];return c.push({type:"function",name:"drawShape",arguments:a}),{moveTo:function(){a.push({name:"moveTo",arguments:arguments})},lineTo:function(){a.push({name:"lineTo",arguments:arguments})},arcTo:function(){a.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){a.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){a.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){c.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){c.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,b){return c.push({type:"variable",name:a,arguments:b}),b}}}var e,f,d={};d.Util={},d.Util.log=function(b){d.logging&&a.console&&a.console.log&&a.console.log(b)},d.Util.trimText=function(a){return function(b){return a?a.apply(b):((b||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),d.Util.asFloat=function(a){return parseFloat(a)},function(){var a=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,b=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;d.Util.parseTextShadows=function(c){if(!c||"none"===c)return[];for(var d=c.match(a),e=[],f=0;d&&f<d.length;f++){var g=d[f].match(b);e.push({color:g[0],offsetX:g[1]?g[1].replace("px",""):0,offsetY:g[2]?g[2].replace("px",""):0,blur:g[3]?g[3].replace("px",""):0})}return e}}(),d.Util.parseBackgroundImage=function(a){var c,d,e,f,g,i,l,m,b=" \r\n\t",h=[],j=0,k=0,n=function(){c&&('"'===d.substr(0,1)&&(d=d.substr(1,d.length-2)),d&&m.push(d),"-"===c.substr(0,1)&&(f=c.indexOf("-",1)+1)>0&&(e=c.substr(0,f),c=c.substr(f)),h.push({prefix:e,method:c.toLowerCase(),value:g,args:m})),m=[],c=e=d=g=""};n();for(var o=0,p=a.length;o<p;o++)if(i=a[o],!(0===j&&b.indexOf(i)>-1)){switch(i){case'"':l?l===i&&(l=null):l=i;break;case"(":if(l)break;if(0===j){j=1,g+=i;continue}k++;break;case")":if(l)break;if(1===j){if(0===k){j=0,g+=i,n();continue}k--}break;case",":if(l)break;if(0===j){n();continue}if(1===j&&0===k&&!c.match(/^url$/i)){m.push(d),d="",g+=i;continue}}g+=i,0===j?c+=i:d+=i}return n(),h},d.Util.Bounds=function(a){var b,c={};return a.getBoundingClientRect&&(b=a.getBoundingClientRect(),c.top=b.top,c.bottom=b.bottom||b.top+b.height,c.left=b.left,c.width=a.offsetWidth,c.height=a.offsetHeight),c},d.Util.OffsetBounds=function(a){var b=a.offsetParent?d.Util.OffsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+b.top,bottom:a.offsetTop+a.offsetHeight+b.top,left:a.offsetLeft+b.left,width:a.offsetWidth,height:a.offsetHeight}},d.Util.getCSS=function(a,c,d){e!==a&&(f=b.defaultView.getComputedStyle(a,null));var g=f[c];if(/^background(Size|Position)$/.test(c))return k(g,a,c,d);if(/border(Top|Bottom)(Left|Right)Radius/.test(c)){var h=g.split(" ");return h.length<=1&&(h[1]=h[0]),h.map(i)}return g},d.Util.resizeBounds=function(a,b,c,d,e){var h,i,f=c/d,g=a/b;return e&&"auto"!==e?f<g^"contain"===e?(i=d,h=d*g):(h=c,i=c/g):(h=c,i=d),{width:h,height:i}},d.Util.BackgroundPosition=function(a,b,c,e,f){var h,i,g=d.Util.getCSS(a,"backgroundPosition",e);return 1===g.length&&(g=[g[0],g[0]]),h=j(g[0])?(b.width-(f||c).width)*(parseFloat(g[0])/100):parseInt(g[0],10),i="auto"===g[1]?h/c.width*c.height:j(g[1])?(b.height-(f||c).height)*parseFloat(g[1])/100:parseInt(g[1],10),"auto"===g[0]&&(h=i/c.height*c.width),{left:h,top:i}},d.Util.BackgroundSize=function(a,b,c,e){var g,h,f=d.Util.getCSS(a,"backgroundSize",e);if(1===f.length&&(f=[f[0],f[0]]),j(f[0]))g=b.width*parseFloat(f[0])/100;else{if(/contain|cover/.test(f[0]))return d.Util.resizeBounds(c.width,c.height,b.width,b.height,f[0]);g=parseInt(f[0],10)}return h="auto"===f[0]&&"auto"===f[1]?c.height:"auto"===f[1]?g/c.width*c.height:j(f[1])?b.height*parseFloat(f[1])/100:parseInt(f[1],10),"auto"===f[0]&&(g=h/c.height*c.width),{width:g,height:h}},d.Util.BackgroundRepeat=function(a,b){var c=d.Util.getCSS(a,"backgroundRepeat").split(",").map(d.Util.trimText);return c[b]||c[0]},d.Util.Extend=function(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},d.Util.Children=function(a){var b;try{b=a.nodeName&&"IFRAME"===a.nodeName.toUpperCase()?a.contentDocument||a.contentWindow.document:function(a){var b=[];return null!==a&&!function(a,b){var d=a.length,e=0;if("number"==typeof b.length)for(var f=b.length;e<f;e++)a[d++]=b[e];else for(;b[e]!==c;)a[d++]=b[e++];return a.length=d,a}(b,a),b}(a.childNodes)}catch(a){d.Util.log("html2canvas.Util.Children failed with exception: "+a.message),b=[]}return b},d.Util.isTransparent=function(a){return!a||"transparent"===a||"rgba(0, 0, 0, 0)"===a},d.Util.Font=function(){var a={};return function(b,d,e){if(a[b+"-"+d]!==c)return a[b+"-"+d];var j,k,l,f=e.createElement("div"),g=e.createElement("img"),h=e.createElement("span"),i="Hidden Text";return f.style.visibility="hidden",f.style.fontFamily=b,f.style.fontSize=d,f.style.margin=0,f.style.padding=0,e.body.appendChild(f),g.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",g.width=1,g.height=1,g.style.margin=0,g.style.padding=0,g.style.verticalAlign="baseline",h.style.fontFamily=b,h.style.fontSize=d,h.style.margin=0,h.style.padding=0,h.appendChild(e.createTextNode(i)),f.appendChild(h),f.appendChild(g),j=g.offsetTop-h.offsetTop+1,f.removeChild(h),f.appendChild(e.createTextNode(i)),f.style.lineHeight="normal",g.style.verticalAlign="super",k=g.offsetTop-f.offsetTop+1,l={baseline:j,lineWidth:1,middle:k},a[b+"-"+d]=l,e.body.removeChild(f),l}}(),function(){function f(b){return function(c){try{b.addColorStop(c.stop,c.color)}catch(b){a.log(["failed to add color stop: ",b,"; tried to add: ",c])}}}var a=d.Util,c={};d.Generate=c;var e=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];c.parseGradient=function(a,b){var c,d,g,h,i,j,k,l,m,n,o,p,f=e.length;for(d=0;d<f&&!(g=a.match(e[d]));d+=1);if(g)switch(g[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(c={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},i=g[2].match(/\w+/g))for(j=i.length,d=0;d<j;d+=1)switch(i[d]){case"top":c.y0=0,c.y1=b.height;break;case"right":c.x0=b.width,c.x1=0;break;case"bottom":c.y0=b.height,c.y1=0;break;case"left":c.x0=0,c.x1=b.width}if(null===c.x0&&null===c.x1&&(c.x0=c.x1=b.width/2),null===c.y0&&null===c.y1&&(c.y0=c.y1=b.height/2),i=g[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(j=i.length,k=1/Math.max(j-1,1),d=0;d<j;d+=1)l=i[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),l[2]?(h=parseFloat(l[2]),h/="%"===l[3]?100:b.width):h=d*k,c.colorStops.push({color:l[1],stop:h});break;case"-webkit-gradient":if(c={type:"radial"===g[2]?"circle":g[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},i=g[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),i&&(c.x0=i[1]*b.width/100,c.y0=i[2]*b.height/100,c.x1=i[3]*b.width/100,c.y1=i[4]*b.height/100),i=g[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(j=i.length,d=0;d<j;d+=1)l=i[d].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),h=parseFloat(l[2]),"from"===l[1]&&(h=0),"to"===l[1]&&(h=1),c.colorStops.push({color:l[3],stop:h});break;case"-moz-linear-gradient":if(c={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},i=g[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),i&&(c.x0=i[1]*b.width/100,c.y0=i[2]*b.height/100,c.x1=b.width-c.x0,c.y1=b.height-c.y0),i=g[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(j=i.length,k=1/Math.max(j-1,1),d=0;d<j;d+=1)l=i[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),l[2]?(h=parseFloat(l[2]),l[3]&&(h/=100)):h=d*k,c.colorStops.push({color:l[1],stop:h});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(c={type:"circle",x0:0,y0:0,x1:b.width,y1:b.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},i=g[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),i&&(c.cx=i[1]*b.width/100,c.cy=i[2]*b.height/100),i=g[3].match(/\w+/),l=g[4].match(/[a-z\-]*/),i&&l)switch(l[0]){case"farthest-corner":case"cover":case"":m=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.cy,2)),n=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.y1-c.cy,2)),o=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.y1-c.cy,2)),p=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.cy,2)),c.rx=c.ry=Math.max(m,n,o,p);break;case"closest-corner":m=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.cy,2)),n=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.y1-c.cy,2)),o=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.y1-c.cy,2)),p=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.cy,2)),c.rx=c.ry=Math.min(m,n,o,p);break;case"farthest-side":"circle"===i[0]?c.rx=c.ry=Math.max(c.cx,c.cy,c.x1-c.cx,c.y1-c.cy):(c.type=i[0],c.rx=Math.max(c.cx,c.x1-c.cx),c.ry=Math.max(c.cy,c.y1-c.cy));break;case"closest-side":case"contain":"circle"===i[0]?c.rx=c.ry=Math.min(c.cx,c.cy,c.x1-c.cx,c.y1-c.cy):(c.type=i[0],c.rx=Math.min(c.cx,c.x1-c.cx),c.ry=Math.min(c.cy,c.y1-c.cy))}if(i=g[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(j=i.length,k=1/Math.max(j-1,1),d=0;d<j;d+=1)l=i[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),l[2]?(h=parseFloat(l[2]),h/="%"===l[3]?100:b.width):h=d*k,c.colorStops.push({color:l[1],stop:h})}return c},c.Gradient=function(a,c){if(0!==c.width&&0!==c.height){var h,i,e=b.createElement("canvas"),g=e.getContext("2d");if(e.width=c.width,e.height=c.height,h=d.Generate.parseGradient(a,c))switch(h.type){case"linear":i=g.createLinearGradient(h.x0,h.y0,h.x1,h.y1),h.colorStops.forEach(f(i)),g.fillStyle=i,g.fillRect(0,0,c.width,c.height);break;case"circle":i=g.createRadialGradient(h.cx,h.cy,0,h.cx,h.cy,h.rx),h.colorStops.forEach(f(i)),g.fillStyle=i,g.fillRect(0,0,c.width,c.height);break;case"ellipse":var j=b.createElement("canvas"),k=j.getContext("2d"),l=Math.max(h.rx,h.ry),m=2*l;j.width=j.height=m,i=k.createRadialGradient(h.rx,h.ry,0,h.rx,h.ry,l),h.colorStops.forEach(f(i)),k.fillStyle=i,k.fillRect(0,0,m,m),g.fillStyle=h.colorStops[h.colorStops.length-1].color,g.fillRect(0,0,e.width,e.height),g.drawImage(j,h.cx-h.rx,h.cy-h.ry,2*h.rx,2*h.ry)}return e}},c.ListAlpha=function(a){var c,b="";do c=a%26,b=String.fromCharCode(c+64)+b,a/=26;while(26*a>26);return b},c.ListRoman=function(a){var e,b=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],c=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],d="",f=b.length;if(a<=0||a>=4e3)return a;for(e=0;e<f;e+=1)for(;a>=c[e];)a-=c[e],d+=b[e];return d}}(),d.Parse=function(e,f,g){function s(){var a=p(b.documentElement,"backgroundColor"),c=k.isTransparent(a)&&h===b.body,d=va(h,null,!1,c);t(h),ya(h,d,function(){c&&(a=d.backgroundColor),u(),k.log("Done parsing, moving to Render."),g({backgroundColor:a,stack:d})})}function t(a){function e(){for(var a=/:before|:after/,c=b.styleSheets,e=0,f=c.length;e<f;e++)try{for(var g=c[e].cssRules,h=0,i=g.length;h<i;h++)a.test(g[h].selectorText)&&d.push(g[h].selectorText)}catch(a){}for(e=0,f=d.length;e<f;e++)d[e]=d[e].match(/(^[^:]*)/)[1]}function f(a){for(var c=b.querySelectorAll(d.join(",")),e=0,f=c.length;e<f;e++)g(c[e])}function g(a){var b=ha(a,":before"),d=ha(a,":after");b&&c.push({type:"before",pseudo:b,el:a}),d&&c.push({type:"after",pseudo:d,el:a})}function h(){c.forEach(function(a){v(a.el,q+"-parent")}),c.forEach(function(a){"before"===a.type?a.el.insertBefore(a.pseudo,a.el.firstChild):a.el.appendChild(a.pseudo)})}var c=[],d=[];e(),f(a),h()}function u(){o.removeChild(r);for(var a=b.getElementsByClassName(q+"-element");a.length;)a[0].parentNode.removeChild(a[0]);for(var c=b.getElementsByClassName(q+"-parent");c.length;)w(c[0],q+"-parent")}function v(a,b){a.classList?a.classList.add(b):a.className=a.className+" "+b}function w(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(b,"").trim()}function z(){return Math.max(Math.max(j.body.scrollWidth,j.documentElement.scrollWidth),Math.max(j.body.offsetWidth,j.documentElement.offsetWidth),Math.max(j.body.clientWidth,j.documentElement.clientWidth))}function A(){return Math.max(Math.max(j.body.scrollHeight,j.documentElement.scrollHeight),Math.max(j.body.offsetHeight,j.documentElement.offsetHeight),Math.max(j.body.clientHeight,j.documentElement.clientHeight))}function B(a,b){var c=parseInt(p(a,b),10);return isNaN(c)?0:c}function C(a,b,c,d,e,f){"transparent"!==f&&(a.setVariable("fillStyle",f),a.fillRect(b,c,d,e),i+=1)}function D(a,b,c){if(a.length>0)return b+c.toUpperCase()}function E(a,b){switch(b){case"lowercase":return a.toLowerCase();case"capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,D);case"uppercase":return a.toUpperCase();default:return a}}function F(a){return/^(normal|none|0px)$/.test(a)}function G(a,b,c,d){null!==a&&k.trimText(a).length>0&&(d.fillText(a,b,c),i+=1)}function H(a,b,c,d){var e=!1,f=p(b,"fontWeight"),g=p(b,"fontFamily"),h=p(b,"fontSize"),i=k.parseTextShadows(p(b,"textShadow"));switch(parseInt(f,10)){case 401:f="bold";break;case 400:f="normal"}if(a.setVariable("fillStyle",d),a.setVariable("font",[p(b,"fontStyle"),p(b,"fontVariant"),f,h,g].join(" ")),a.setVariable("textAlign",e?"right":"left"),i.length&&(a.setVariable("shadowColor",i[0].color),a.setVariable("shadowOffsetX",i[0].offsetX),a.setVariable("shadowOffsetY",i[0].offsetY),a.setVariable("shadowBlur",i[0].blur)),"none"!==c)return k.Font(g,h,j)}function I(a,b,c,d,e){switch(b){case"underline":C(a,c.left,Math.round(c.top+d.baseline+d.lineWidth),c.width,1,e);break;case"overline":C(a,c.left,Math.round(c.top),c.width,1,e);break;case"line-through":C(a,c.left,Math.ceil(c.top+d.middle+d.lineWidth),c.width,1,e)}}function J(a,b,c,d,e){var f;if(m.rangeBounds&&!e)"none"===c&&0===k.trimText(b).length||(f=K(b,a.node,a.textOffset)),a.textOffset+=b.length;else if(a.node&&"string"==typeof a.node.nodeValue){var g=d?a.node.splitText(b.length):null;f=L(a.node,e),a.node=g}return f}function K(a,b,c){var d=j.createRange();return d.setStart(b,c),d.setEnd(b,c+a.length),d.getBoundingClientRect()}function L(a,b){var c=a.parentNode,d=j.createElement("wrapper"),e=a.cloneNode(!0);d.appendChild(a.cloneNode(!0)),c.replaceChild(d,a);var f=b?k.OffsetBounds(d):k.Bounds(d);return c.replaceChild(e,d),f}function M(a,b,c){var i,j,d=c.ctx,e=p(a,"color"),g=p(a,"textDecoration"),h=p(a,"textAlign"),l={node:b,textOffset:0};k.trimText(b.nodeValue).length>0&&(b.nodeValue=E(b.nodeValue,p(a,"textTransform")),h=h.replace(["-webkit-auto"],["auto"]),j=!f.letterRendering&&/^(left|right|justify|auto)$/.test(h)&&F(p(a,"letterSpacing"))?b.nodeValue.split(/(\b| )/):b.nodeValue.split(""),i=H(d,a,g,e),f.chinese&&j.forEach(function(a,b){/.*[\u4E00-\u9FA5].*$/.test(a)&&(a=a.split(""),a.unshift(b,1),j.splice.apply(j,a))}),j.forEach(function(a,b){var f=J(l,a,g,b<j.length-1,c.transform.matrix);f&&(G(a,f.left,f.bottom,d),I(d,g,f,i,e))}))}function N(a,b){var d,e,c=j.createElement("boundelement");return c.style.display="inline",d=a.style.listStyleType,a.style.listStyleType="none",c.appendChild(j.createTextNode(b)),a.insertBefore(c,a.firstChild),e=k.Bounds(c),a.removeChild(c),a.style.listStyleType=d,e}function O(a){var b=-1,c=1,d=a.parentNode.childNodes;if(a.parentNode){for(;d[++b]!==a;)1===d[b].nodeType&&c++;return c}return-1}function P(a,b){var e,c=O(a);switch(b){case"decimal":e=c;break;case"decimal-leading-zero":e=1===c.toString().length?c="0"+c.toString():c.toString();break;case"upper-roman":e=d.Generate.ListRoman(c);break;case"lower-roman":e=d.Generate.ListRoman(c).toLowerCase();break;case"lower-alpha":e=d.Generate.ListAlpha(c).toLowerCase();break;case"upper-alpha":e=d.Generate.ListAlpha(c)}return e+". "}function Q(a,b,c){var d,e,h,f=b.ctx,g=p(a,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(g)){if(e=P(a,g),h=N(a,e),H(f,a,"none",p(a,"color")),"inside"!==p(a,"listStylePosition"))return;f.setVariable("textAlign","left"),d=c.left,G(e,d,h.bottom,f)}}function R(a){var b=e[a];return!(!b||b.succeeded!==!0)&&b.img}function S(a,b){var c=Math.max(a.left,b.left),d=Math.max(a.top,b.top),e=Math.min(a.left+a.width,b.left+b.width),f=Math.min(a.top+a.height,b.top+b.height);return{left:c,top:d,width:e-c,height:f-d}}function T(a,b,c){var d,e="static"!==b.cssPosition,f=e?p(a,"zIndex"):"auto",g=p(a,"opacity"),h="none"!==p(a,"cssFloat");b.zIndex=d=U(f),d.isPositioned=e,d.isFloated=h,d.opacity=g,d.ownStacking="auto"!==f||g<1,d.depth=c?c.zIndex.depth+1:0,c&&c.zIndex.children.push(b)}function U(a){return{depth:0,zindex:a,children:[]}}function V(a,b,c,d,e){var f=B(b,"paddingLeft"),g=B(b,"paddingTop"),h=B(b,"paddingRight"),i=B(b,"paddingBottom");ga(a,c,0,0,c.width,c.height,d.left+f+e[3].width,d.top+g+e[0].width,d.width-(e[1].width+e[3].width+f+h),d.height-(e[0].width+e[2].width+g+i))}function W(a){return["Top","Right","Bottom","Left"].map(function(b){return{width:B(a,"border"+b+"Width"),color:p(a,"border"+b+"Color")}})}function X(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){return p(a,"border"+b+"Radius")})}function Y(a,b,c,d){var e=4*((Math.sqrt(2)-1)/3),f=c*e,g=d*e,h=a+c,i=b+d;return{topLeft:Z({x:a,y:i},{x:a,y:i-g},{x:h-f,y:b},{x:h,y:b}),topRight:Z({x:a,y:b},{x:a+f,y:b},{x:h,y:i-g},{x:h,y:i}),bottomRight:Z({x:h,y:b},{x:h,y:b+g},{x:a+f,y:i},{x:a,y:i}),bottomLeft:Z({x:h,y:i},{x:h-f,y:i},{x:a,y:b+g},{x:a,y:b})}}function Z(a,b,c,d){var e=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,endControl:c,end:d,subdivide:function(f){var g=e(a,b,f),h=e(b,c,f),i=e(c,d,f),j=e(g,h,f),k=e(h,i,f),l=e(j,k,f);return[Z(a,g,j,l),Z(l,k,i,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function $(a,b,c,d,e,f,g){b[0]>0||b[1]>0?(a.push(["line",d[0].start.x,d[0].start.y]),d[0].curveTo(a),d[1].curveTo(a)):a.push(["line",f,g]),(c[0]>0||c[1]>0)&&a.push(["line",e[0].start.x,e[0].start.y])}function _(a,b,c,d,e,f,g){var h=[];return b[0]>0||b[1]>0?(h.push(["line",d[1].start.x,d[1].start.y]),d[1].curveTo(h)):h.push(["line",a.c1[0],a.c1[1]]),c[0]>0||c[1]>0?(h.push(["line",f[0].start.x,f[0].start.y]),f[0].curveTo(h),h.push(["line",g[0].end.x,g[0].end.y]),g[0].curveToReversed(h)):(h.push(["line",a.c2[0],a.c2[1]]),h.push(["line",a.c3[0],a.c3[1]])),b[0]>0||b[1]>0?(h.push(["line",e[1].end.x,e[1].end.y]),e[1].curveToReversed(h)):h.push(["line",a.c4[0],a.c4[1]]),h}function aa(a,b,c){var d=a.left,e=a.top,f=a.width,g=a.height,h=b[0][0],i=b[0][1],j=b[1][0],k=b[1][1],l=b[2][0],m=b[2][1],n=b[3][0],o=b[3][1],p=f-j,q=g-m,r=f-l,s=g-o;return{topLeftOuter:Y(d,e,h,i).topLeft.subdivide(.5),topLeftInner:Y(d+c[3].width,e+c[0].width,Math.max(0,h-c[3].width),Math.max(0,i-c[0].width)).topLeft.subdivide(.5),topRightOuter:Y(d+p,e,j,k).topRight.subdivide(.5),topRightInner:Y(d+Math.min(p,f+c[3].width),e+c[0].width,p>f+c[3].width?0:j-c[3].width,k-c[0].width).topRight.subdivide(.5),bottomRightOuter:Y(d+r,e+q,l,m).bottomRight.subdivide(.5),bottomRightInner:Y(d+Math.min(r,f+c[3].width),e+Math.min(q,g+c[0].width),Math.max(0,l-c[1].width),Math.max(0,m-c[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:Y(d,e+s,n,o).bottomLeft.subdivide(.5),bottomLeftInner:Y(d+c[3].width,e+s,Math.max(0,n-c[3].width),Math.max(0,o-c[2].width)).bottomLeft.subdivide(.5)}}function ba(a,b,c,d,e){var f=p(a,"backgroundClip"),g=[];switch(f){case"content-box":case"padding-box":$(g,d[0],d[1],b.topLeftInner,b.topRightInner,e.left+c[3].width,e.top+c[0].width),$(g,d[1],d[2],b.topRightInner,b.bottomRightInner,e.left+e.width-c[1].width,e.top+c[0].width),$(g,d[2],d[3],b.bottomRightInner,b.bottomLeftInner,e.left+e.width-c[1].width,e.top+e.height-c[2].width),$(g,d[3],d[0],b.bottomLeftInner,b.topLeftInner,e.left+c[3].width,e.top+e.height-c[2].width);break;default:$(g,d[0],d[1],b.topLeftOuter,b.topRightOuter,e.left,e.top),$(g,d[1],d[2],b.topRightOuter,b.bottomRightOuter,e.left+e.width,e.top),$(g,d[2],d[3],b.bottomRightOuter,b.bottomLeftOuter,e.left+e.width,e.top+e.height),$(g,d[3],d[0],b.bottomLeftOuter,b.topLeftOuter,e.left,e.top+e.height)}return g}function ca(a,b,c){var h,i,j,k,l,m,d=b.left,e=b.top,f=b.width,g=b.height,n=X(a),o=aa(b,n,c),p={clip:ba(a,o,c,n,b),borders:[]};for(h=0;h<4;h++)if(c[h].width>0){switch(i=d,j=e,k=f,l=g-c[2].width,h){case 0:l=c[0].width,m=_({c1:[i,j],c2:[i+k,j],c3:[i+k-c[1].width,j+l],c4:[i+c[3].width,j+l]},n[0],n[1],o.topLeftOuter,o.topLeftInner,o.topRightOuter,o.topRightInner);break;case 1:i=d+f-c[1].width,k=c[1].width,m=_({c1:[i+k,j],c2:[i+k,j+l+c[2].width],c3:[i,j+l],c4:[i,j+c[0].width]},n[1],n[2],o.topRightOuter,o.topRightInner,o.bottomRightOuter,o.bottomRightInner);break;case 2:j=j+g-c[2].width,l=c[2].width,m=_({c1:[i+k,j+l],c2:[i,j+l],c3:[i+c[3].width,j],c4:[i+k-c[3].width,j]},n[2],n[3],o.bottomRightOuter,o.bottomRightInner,o.bottomLeftOuter,o.bottomLeftInner);break;case 3:k=c[3].width,m=_({c1:[i,j+l+c[2].width],c2:[i,j],c3:[i+k,j+c[0].width],c4:[i+k,j+l]},n[3],n[0],o.bottomLeftOuter,o.bottomLeftInner,o.topLeftOuter,o.topLeftInner)}p.borders.push({args:m,color:c[h].color})}return p}function da(a,b){var c=a.drawShape();return b.forEach(function(a,b){c[0===b?"moveTo":a[0]+"To"].apply(null,a.slice(1))}),c}function ea(a,b,c){"transparent"!==c&&(a.setVariable("fillStyle",c),da(a,b),a.fill(),i+=1)}function fa(a,b,c){var f,g,d=j.createElement("valuewrap"),e=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];e.forEach(function(b){try{d.style[b]=p(a,b)}catch(a){k.log("html2canvas: Parse: Exception caught in renderFormValue: "+a.message)}}),d.style.borderColor="black",d.style.borderStyle="solid",d.style.display="block",d.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(a.type)||"SELECT"===a.nodeName)&&(d.style.lineHeight=p(a,"height")),d.style.top=b.top+"px",d.style.left=b.left+"px",f="SELECT"===a.nodeName?(a.options[a.selectedIndex]||0).text:a.value,f||(f=a.placeholder),g=j.createTextNode(f),d.appendChild(g),o.appendChild(d),M(a,g,c),o.removeChild(d)}function ga(a){a.drawImage.apply(a,Array.prototype.slice.call(arguments,1)),i+=1}function ha(c,d){var e=a.getComputedStyle(c,d),f=a.getComputedStyle(c);if(e&&e.content&&"none"!==e.content&&"-moz-alt-content"!==e.content&&"none"!==e.display&&f.content!==e.content){var g=e.content+"";"'"!==g[0]&&'"'!==g[0]||(g=g.replace(/(^['"])|(['"]$)/g,""));var h="url"===g.substr(0,3),i=b.createElement(h?"img":"span");return i.className=q+"-element ",Object.keys(e).filter(ia).forEach(function(a){try{i.style[a]=e[a]}catch(b){k.log(["Tried to assign readonly property ",a,"Error:",b])}}),h?i.src=k.parseBackgroundImage(g)[0].args[0]:i.innerHTML=g,i}}function ia(b){return isNaN(a.parseInt(b,10))}function ja(a,b,c,d){var e=Math.round(d.left+c.left),f=Math.round(d.top+c.top);a.createPattern(b),a.translate(e,f),a.fill(),a.translate(-e,-f)}function ka(a,b,c,d,e,f,g,h){var i=[];i.push(["line",Math.round(e),Math.round(f)]),i.push(["line",Math.round(e+g),Math.round(f)]),i.push(["line",Math.round(e+g),Math.round(h+f)]),i.push(["line",Math.round(e),Math.round(h+f)]),da(a,i),a.save(),a.clip(),ja(a,b,c,d),a.restore()}function la(a,b,c){C(a,b.left,b.top,b.width,b.height,c)}function ma(a,b,c,d,e){var f=k.BackgroundSize(a,b,d,e),g=k.BackgroundPosition(a,b,d,e,f),h=k.BackgroundRepeat(a,e);switch(d=oa(d,f),h){case"repeat-x":case"repeat no-repeat":ka(c,d,g,b,b.left,b.top+g.top,99999,d.height);break;case"repeat-y":case"no-repeat repeat":ka(c,d,g,b,b.left+g.left,b.top,d.width,99999);break;case"no-repeat":ka(c,d,g,b,b.left+g.left,b.top+g.top,d.width,d.height);break;default:ja(c,d,g,{top:b.top,left:b.left,width:d.width,height:d.height})}}function na(a,b,c){for(var f,d=p(a,"backgroundImage"),e=k.parseBackgroundImage(d),g=e.length;g--;)if(d=e[g],d.args&&0!==d.args.length){var h="url"===d.method?d.args[0]:d.value;f=R(h),f?ma(a,b,c,f,g):k.log("html2canvas: Error loading background:",d)}}function oa(a,b){if(a.width===b.width&&a.height===b.height)return a;var c,d=j.createElement("canvas");return d.width=b.width,d.height=b.height,c=d.getContext("2d"),ga(c,a,0,0,a.width,a.height,0,0,b.width,b.height),d}function pa(a,b,c){return a.setVariable("globalAlpha",p(b,"opacity")*(c?c.opacity:1))}function qa(a){return a.replace("px","")}function ra(a,b){var c=/(matrix)\((.+)\)/,d=p(a,"transform")||p(a,"-webkit-transform")||p(a,"-moz-transform")||p(a,"-ms-transform")||p(a,"-o-transform"),e=p(a,"transform-origin")||p(a,"-webkit-transform-origin")||p(a,"-moz-transform-origin")||p(a,"-ms-transform-origin")||p(a,"-o-transform-origin")||"0px 0px";e=e.split(" ").map(qa).map(k.asFloat);var f;if(d&&"none"!==d){var g=d.match(c);if(g)switch(g[1]){case"matrix":f=g[2].split(",").map(k.trimText).map(k.asFloat)}}return{origin:e,matrix:f}}function sa(a,b,c,d){var e=l(b?c.width:z(),b?c.height:A()),g={ctx:e,opacity:pa(e,a,b),cssPosition:p(a,"position"),borders:W(a),transform:d,clip:b&&b.clip?k.Extend({},b.clip):null};return T(a,g,b),f.useOverflow===!0&&/(hidden|scroll|auto)/.test(p(a,"overflow"))===!0&&/(BODY)/i.test(a.nodeName)===!1&&(g.clip=g.clip?S(g.clip,c):c),g}function ta(a,b,c){var d={left:b.left+a[3].width,top:b.top+a[0].width,width:b.width-(a[1].width+a[3].width),height:b.height-(a[0].width+a[2].width)};return c&&(d=S(d,c)),d}function ua(a,b){var c=b.matrix?k.OffsetBounds(a):k.Bounds(a);return b.origin[0]+=c.left,b.origin[1]+=c.top,c}function va(a,b,c){var f,d=ra(a,b),e=ua(a,d),g=sa(a,b,e,d),h=g.borders,i=g.ctx,j=ta(h,e,g.clip),l=ca(a,e,h),m=n.test(a.nodeName)?"#efefef":p(a,"backgroundColor");switch(da(i,l.clip),i.save(),i.clip(),j.height>0&&j.width>0&&!c?(la(i,e,m),na(a,j,i)):c&&(g.backgroundColor=m),i.restore(),l.borders.forEach(function(a){ea(i,a.args,a.color)}),a.nodeName){case"IMG":(f=R(a.getAttribute("src")))?V(i,a,f,e,h):k.log("html2canvas: Error loading <img>:"+a.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(a.type)&&(a.value||a.placeholder||"").length>0&&fa(a,e,g);break;case"TEXTAREA":(a.value||a.placeholder||"").length>0&&fa(a,e,g);break;case"SELECT":(a.options||a.placeholder||"").length>0&&fa(a,e,g);break;case"LI":Q(a,g,j);break;case"CANVAS":V(i,a,a,e,h)}return g}function wa(a){return"none"!==p(a,"display")&&"hidden"!==p(a,"visibility")&&!a.hasAttribute("data-html2canvas-ignore")}function xa(a,b,c){return c||(c=function(){}),wa(a)&&(b=va(a,b,!1)||b,!n.test(a.nodeName))?ya(a,b,c):void c()}function ya(a,b,c){function g(c){c.nodeType===c.ELEMENT_NODE?xa(c,b,h):c.nodeType===c.TEXT_NODE?(M(a,c,b),h()):h()}function h(a){--e<=0&&(k.log("finished rendering "+d.length+" children."),c())}var d=k.Children(a),e=d.length+1;h(),f.async?d.forEach(function(a){setTimeout(function(){g(a)},0)}):d.forEach(g)}a.scroll(0,0);var h=f.elements===c?b.body:f.elements[0],i=0,j=h.ownerDocument,k=d.Util,m=k.Support(f,j),n=new RegExp("("+f.ignoreElements+")"),o=j.body,p=k.getCSS,q="___html2canvas___pseudoelement",r=j.createElement("style");r.innerHTML="."+q+'-parent:before { content: "" !important; display: none !important; }.'+q+'-parent:after { content: "" !important; display: none !important; }',o.appendChild(r),e=e||{},s()},d.Preload=function(e){function s(a){p.href=a,p.href=p.href;var b=p.protocol+p.host;return b===g}function t(){h.log("html2canvas: start: images: "+f.numLoaded+" / "+f.numTotal+" (failed: "+f.numFailed+")"),!f.firstRun&&f.numLoaded>=f.numTotal&&(h.log("Finished loading images: # "+f.numTotal+" (failed: "+f.numFailed+")"),"function"==typeof e.complete&&e.complete(f))}function u(b,d,g){var h,j,i=e.proxy;p.href=b,b=p.href,h="html2canvas_"+k++,g.callbackname=h,i+=i.indexOf("?")>-1?"&":"?",i+="url="+encodeURIComponent(b)+"&callback="+h,j=m.createElement("script"),a[h]=function(b){"error:"===b.substring(0,6)?(g.succeeded=!1,f.numLoaded++,f.numFailed++,t()):(B(d,g),d.src=b),a[h]=c;try{delete a[h]}catch(a){}j.parentNode.removeChild(j),j=null,delete g.script,delete g.callbackname},j.setAttribute("type","text/javascript"),j.setAttribute("src",i),g.script=j,a.document.body.appendChild(j)}function v(b,c){var e=a.getComputedStyle(b,c),f=e.content;"url"===f.substr(0,3)&&i.loadImage(d.Util.parseBackgroundImage(f)[0].args[0]),z(e.backgroundImage,b)}function w(a){v(a,":before"),v(a,":after")}function x(a,b){var e=d.Generate.Gradient(a,b);e!==c&&(f[a]={img:e,succeeded:!0},f.numTotal++,f.numLoaded++,t())}function y(a){return a&&a.method&&a.args&&a.args.length>0}function z(a,b){var e;d.Util.parseBackgroundImage(a).filter(y).forEach(function(a){"url"===a.method?i.loadImage(a.args[0]):a.method.match(/\-?gradient$/)&&(e===c&&(e=d.Util.Bounds(b)),x(a.value,e))})}function A(a){var b=!1;try{h.Children(a).forEach(A)}catch(a){}try{b=a.nodeType}catch(a){b=!1,h.log("html2canvas: failed to access some element's nodeType - Exception: "+a.message)}if(1===b||b===c){w(a);try{z(h.getCSS(a,"backgroundImage"),a)}catch(a){h.log("html2canvas: failed to get background-image - Exception: "+a.message)}z(a)}}function B(b,d){b.onload=function(){d.timer!==c&&a.clearTimeout(d.timer),f.numLoaded++,d.succeeded=!0,b.onerror=b.onload=null,t()},b.onerror=function(){if("anonymous"===b.crossOrigin&&(a.clearTimeout(d.timer),e.proxy)){var c=b.src;return b=new Image,d.img=b,b.src=c,void u(b.src,b,d)}f.numLoaded++,f.numFailed++,d.succeeded=!1,b.onerror=b.onload=null,t()}}var g,i,j,r,f={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},h=d.Util,k=0,l=e.elements[0]||b.body,m=l.ownerDocument,n=l.getElementsByTagName("img"),o=n.length,p=m.createElement("a"),q=function(a){return a.crossOrigin!==c}(new Image);for(p.href=a.location.href,g=p.protocol+p.host,i={loadImage:function(a){var b,d;a&&f[a]===c&&(b=new Image,a.match(/data:image\/.*;base64,/i)?(b.src=a.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),d=f[a]={img:b},f.numTotal++,B(b,d)):s(a)||e.allowTaint===!0?(d=f[a]={img:b},f.numTotal++,B(b,d),b.src=a):q&&!e.allowTaint&&e.useCORS?(b.crossOrigin="anonymous",d=f[a]={img:b},f.numTotal++,B(b,d),b.src=a):e.proxy&&(d=f[a]={img:b},f.numTotal++,u(a,b,d)))},cleanupDOM:function(d){var g,i;if(!f.cleanupDone){d&&"string"==typeof d?h.log("html2canvas: Cleanup because: "+d):h.log("html2canvas: Cleanup after timeout: "+e.timeout+" ms.");
for(i in f)if(f.hasOwnProperty(i)&&(g=f[i],"object"==typeof g&&g.callbackname&&g.succeeded===c)){a[g.callbackname]=c;try{delete a[g.callbackname]}catch(a){}g.script&&g.script.parentNode&&(g.script.setAttribute("src","about:blank"),g.script.parentNode.removeChild(g.script)),f.numLoaded++,f.numFailed++,h.log("html2canvas: Cleaned up failed img: '"+i+"' Steps: "+f.numLoaded+" / "+f.numTotal)}a.stop!==c?a.stop():b.execCommand!==c&&b.execCommand("Stop",!1),b.close!==c&&b.close(),f.cleanupDone=!0,d&&"string"==typeof d||t()}},renderingDone:function(){r&&a.clearTimeout(r)}},e.timeout>0&&(r=a.setTimeout(i.cleanupDOM,e.timeout)),h.log("html2canvas: Preload starts: finding background-images"),f.firstRun=!0,A(l),h.log("html2canvas: Preload: Finding images"),j=0;j<o;j+=1)i.loadImage(n[j].getAttribute("src"));return f.firstRun=!1,h.log("html2canvas: Preload: Done."),f.numTotal===f.numLoaded&&t(),i},d.Renderer=function(a,e){function f(a,b){return"children"===a?-1:"children"===b?1:a-b}function g(a){function e(a){Object.keys(a).sort(f).forEach(function(c){var d=[],f=[],g=[],h=[];a[c].forEach(function(a){a.node.zIndex.isPositioned||a.node.zIndex.opacity<1?g.push(a):a.node.zIndex.isFloated?f.push(a):d.push(a)}),function a(b){b.forEach(function(b){h.push(b),b.children&&a(b.children)})}(d.concat(f,g)),h.forEach(function(a){a.context?e(a.context):b.push(a.node)})})}var d,b=[];return d=function(b){function e(a,b,d){var f="auto"===b.zIndex.zindex?0:Number(b.zIndex.zindex),g=a,h=b.zIndex.isPositioned,i=b.zIndex.isFloated,j={node:b},k=d;b.zIndex.ownStacking?(g=j.context={children:[{node:b,children:[]}]},k=c):(h||i)&&(k=j.children=[]),0===f&&d?d.push(j):(a[f]||(a[f]=[]),a[f].push(j)),b.zIndex.children.forEach(function(a){e(g,a,k)})}var d={};return e(d,b),d}(a),e(d),b}function h(a){var b;if("string"==typeof e.renderer&&d.Renderer[a]!==c)b=d.Renderer[a](e);else{if("function"!=typeof a)throw new Error("Unknown renderer");b=a(e)}if("function"!=typeof b)throw new Error("Invalid renderer defined");return b}return h(e.renderer)(a,e,b,g(a.stack),d)},d.Util.Support=function(a,b){function e(){var a=new Image,e=b.createElement("canvas"),f=e.getContext!==c&&e.getContext("2d");if(f===!1)return!1;e.width=e.height=10,a.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{f.drawImage(a,0,0),e.toDataURL()}catch(a){return!1}return d.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function f(){var a,c,d,e,f=!1;return b.createRange&&(a=b.createRange(),a.getBoundingClientRect&&(c=b.createElement("boundtest"),c.style.height="123px",c.style.display="block",b.body.appendChild(c),a.selectNode(c),d=a.getBoundingClientRect(),e=d.height,123===e&&(f=!0),b.body.removeChild(c))),f}return{rangeBounds:f(),svgRendering:a.svgRendering&&e()}},a.html2canvas=function(b,c){b=b.length?b:[b];var f,g={logging:!1,elements:b,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,async:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return g=d.Util.Extend(c,g),d.logging=g.logging,g.complete=function(a){"function"==typeof g.onpreloaded&&g.onpreloaded(a)===!1||d.Parse(a,g,function(a){"function"==typeof g.onparsed&&g.onparsed(a)===!1||(f=d.Renderer(a,g),"function"==typeof g.onrendered&&g.onrendered(f))})},a.setTimeout(function(){d.Preload(g)},0),{render:function(a,b){return d.Renderer(a,d.Util.Extend(b,g))},parse:function(a,b){return d.Parse(a,d.Util.Extend(b,g))},preload:function(a){return d.Preload(d.Util.Extend(a,g))},log:d.Util.log}},a.html2canvas.log=d.Util.log,a.html2canvas.Renderer={Canvas:c},d.Renderer.Canvas=function(a){function k(a,b){a.beginPath(),b.forEach(function(b){a[b.name].apply(a,b.arguments)}),a.closePath()}function l(a){if(f.indexOf(a.arguments[0].src)===-1){h.drawImage(a.arguments[0],0,0);try{h.getImageData(0,0,1,1)}catch(a){return g=e.createElement("canvas"),h=g.getContext("2d"),!1}f.push(a.arguments[0].src)}return!0}function m(b,c){switch(c.type){case"variable":b[c.name]=c.arguments;break;case"function":switch(c.name){case"createPattern":if(c.arguments[0].width>0&&c.arguments[0].height>0)try{b.fillStyle=b.createPattern(c.arguments[0],"repeat")}catch(a){i.log("html2canvas: Renderer: Error creating pattern",a.message)}break;case"drawShape":k(b,c.arguments);break;case"drawImage":c.arguments[8]>0&&c.arguments[7]>0&&(!a.taintTest||a.taintTest&&l(c))&&b.drawImage.apply(b,c.arguments);break;default:b[c.name].apply(b,c.arguments)}}}a=a||{};var e=b,f=[],g=b.createElement("canvas"),h=g.getContext("2d"),i=d.Util,j=a.canvas||e.createElement("canvas");return function(a,b,d,e,f){var h,k,l,g=j.getContext("2d"),n=a.stack;return j.width=j.style.width=b.width||n.ctx.width,j.height=j.style.height=b.height||n.ctx.height,l=g.fillStyle,g.fillStyle=i.isTransparent(a.backgroundColor)&&b.background!==c?b.background:a.backgroundColor,g.fillRect(0,0,j.width,j.height),g.fillStyle=l,e.forEach(function(a){g.textBaseline="bottom",g.save(),a.transform.matrix&&(g.translate(a.transform.origin[0],a.transform.origin[1]),g.transform.apply(g,a.transform.matrix),g.translate(-a.transform.origin[0],-a.transform.origin[1])),a.clip&&(g.beginPath(),g.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height),g.clip()),a.ctx.storage&&a.ctx.storage.forEach(function(a){m(g,a)}),g.restore()}),i.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===b.elements.length&&"object"==typeof b.elements[0]&&"BODY"!==b.elements[0].nodeName?(k=f.Util.Bounds(b.elements[0]),h=d.createElement("canvas"),h.width=Math.ceil(k.width),h.height=Math.ceil(k.height),g=h.getContext("2d"),g.drawImage(j,k.left,k.top,k.width,k.height,0,0,k.width,k.height),j=null,h):j}}}(window,document);
//jspdf
var jsPDF=function(){function H(){K("/Size "+(h+1)),K("/Root "+h+" 0 R"),K("/Info "+(h-1)+" 0 R")}var o,q,s,a="20090504",b="",c="1.3",e={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},g=0,h=2,j=0,k=new Array,l=new Array,m=.200025,r="mm",t={},u=16,v=16;"pt"==r?q=1:"mm"==r?q=72/25.4:"cm"==r?q=72/2.54:"in"==r&&(q=72);var w=function(){h++,l[h]=b.length,K(h+" 0 obj")},x=function(){K("%PDF-"+c)},y=function(){var a=pageWidth*q,c=o*q;for(n=1;n<=g;n++)w(),K("<</Type /Page"),K("/Parent 1 0 R"),K("/Resources 2 0 R"),K("/Contents "+(h+1)+" 0 R>>"),K("endobj"),p=k[n],w(),K("<</Length "+p.length+">>"),z(p),K("endobj");l[1]=b.length,K("1 0 obj"),K("<</Type /Pages");var d="/Kids [";for(i=0;i<g;i++)d+=3+2*i+" 0 R ";K(d+"]"),K("/Count "+g),K(sprintf("/MediaBox [0 0 %.2f %.2f]",a,c)),K(">>"),K("endobj")},z=function(a){K("stream"),K(a),K("endstream")},A=function(){B(),C(),l[2]=b.length,K("2 0 obj"),K("<<"),D(),K(">>"),K("endobj")},B=function(){w(),s=h,name="Helvetica",K("<</Type /Font"),K("/BaseFont /"+name),K("/Subtype /Type1"),K("/Encoding /WinAnsiEncoding"),K(">>"),K("endobj")},C=function(){},D=function(){K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),K("/Font <<"),K("/F1 "+s+" 0 R"),K(">>"),K("/XObject <<"),E(),K(">>")},E=function(){},F=function(){K("/Producer (jsPDF "+a+")"),void 0!=t.title&&K("/Title ("+M(t.title)+")"),void 0!=t.subject&&K("/Subject ("+M(t.subject)+")"),void 0!=t.author&&K("/Author ("+M(t.author)+")"),void 0!=t.keywords&&K("/Keywords ("+M(t.keywords)+")"),void 0!=t.creator&&K("/Creator ("+M(t.creator)+")");var b=new Date,c=b.getFullYear(),d=b.getMonth()+1,e=b.getDate(),f=b.getHours(),g=b.getMinutes(),h=b.getSeconds();K("/CreationDate (D:"+sprintf("%02d%02d%02d%02d%02d%02d",c,d,e,f,g,h)+")")},G=function(){K("/Type /Catalog"),K("/Pages 1 0 R"),K("/OpenAction [3 0 R /FitH null]"),K("/PageLayout /OneColumn")},I=function(){j=1,x(),y(),A(),w(),K("<<"),F(),K(">>"),K("endobj"),w(),K("<<"),G(),K(">>"),K("endobj");var a=b.length;K("xref"),K("0 "+(h+1)),K("0000000000 65535 f ");for(var c=1;c<=h;c++)K(sprintf("%010d 00000 n ",l[c]));K("trailer"),K("<<"),H(),K(">>"),K("startxref"),K(a),K("%%EOF"),j=3},J=function(){g++,j=2,k[g]="",o=e.a4[1]/q,pageWidth=e.a4[0]/q},K=function(a){2==j?k[g]+=a+"\n":b+=a+"\n"},L=function(){J(),K(sprintf("%.2f w",m*q)),v=u,K("BT /F1 "+parseInt(u)+".00 Tf ET")};L();var M=function(a){return a.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")};return{addPage:function(){L()},text:function(a,b,c){v!=u&&(K("BT /F1 "+parseInt(u)+".00 Tf ET"),v=u);var d=sprintf("BT %.2f %.2f Td (%s) Tj ET",a*q,(o-b)*q,M(c));K(d)},setProperties:function(a){t=a},addImage:function(a,b,c,d,e,f){},output:function(a,c){return I(),void 0==a?b:void("datauri"==a&&(document.location.href="data:application/pdf;base64,"+Base64.encode(b)))},setFontSize:function(a){u=a}}};
//base64
var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var c,d,e,f,g,h,i,b="",j=0;for(a=Base64._utf8_encode(a);j<a.length;)c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=a.charCodeAt(j++),f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,i=63&e,isNaN(d)?h=i=64:isNaN(e)&&(i=64),b=b+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h)+this._keyStr.charAt(i);return b},decode:function(a){var c,d,e,f,g,h,i,b="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),i=this._keyStr.indexOf(a.charAt(j++)),c=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,b+=String.fromCharCode(c),64!=h&&(b+=String.fromCharCode(d)),64!=i&&(b+=String.fromCharCode(e));return b=Base64._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}};
//sprintf
function sprintf(){var a=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,b=arguments,c=0,d=b[c++],e=function(a,b,c,d){c||(c=" ");var e=a.length>=b?"":Array(1+b-a.length>>>0).join(c);return d?a+e:e+a},f=function(a,b,c,d,f,g){var h=d-a.length;return h>0&&(a=c||!f?e(a,d,g,c):a.slice(0,b.length)+e("",h,"0",!0)+a.slice(b.length)),a},g=function(a,b,c,d,g,h,i){var j=a>>>0;return c=c&&j&&{2:"0b",8:"0",16:"0x"}[b]||"",a=c+e(j.toString(b),h||0,"0",!1),f(a,c,d,g,i)},h=function(a,b,c,d,e,g){return null!=d&&(a=a.slice(0,d)),f(a,"",b,c,e,g)},i=function(a,d,i,j,k,l,m){var n,o,p,q,r;if("%%"==a)return"%";for(var s=!1,t="",u=!1,v=!1,w=" ",x=i.length,y=0;i&&y<x;y++)switch(i.charAt(y)){case" ":t=" ";break;case"+":t="+";break;case"-":s=!0;break;case"'":w=i.charAt(y+1);break;case"0":u=!0;break;case"#":v=!0}if(j=j?"*"==j?+b[c++]:"*"==j.charAt(0)?+b[j.slice(1,-1)]:+j:0,j<0&&(j=-j,s=!0),!isFinite(j))throw new Error("sprintf: (minimum-)width must be finite");switch(l=l?"*"==l?+b[c++]:"*"==l.charAt(0)?+b[l.slice(1,-1)]:+l:"fFeE".indexOf(m)>-1?6:"d"==m?0:void 0,r=d?b[d.slice(0,-1)]:b[c++],m){case"s":return h(String(r),s,j,l,u,w);case"c":return h(String.fromCharCode(+r),s,j,l,u);case"b":return g(r,2,v,s,j,l,u);case"o":return g(r,8,v,s,j,l,u);case"x":return g(r,16,v,s,j,l,u);case"X":return g(r,16,v,s,j,l,u).toUpperCase();case"u":return g(r,10,v,s,j,l,u);case"i":case"d":return n=parseInt(+r),o=n<0?"-":t,r=o+e(String(Math.abs(n)),l,"0",!1),f(r,o,s,j,u);case"e":case"E":case"f":case"F":case"g":case"G":return n=+r,o=n<0?"-":t,p=["toExponential","toFixed","toPrecision"]["efg".indexOf(m.toLowerCase())],q=["toString","toUpperCase"]["eEfFgG".indexOf(m)%2],r=o+Math.abs(n)[p](l),f(r,o,s,j,u)[q]();default:return a}};return d.replace(a,i)}

